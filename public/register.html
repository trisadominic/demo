<!DOCTYPE html>
<html>

<head>
    <title>Login And Registration Form</title>
    <link rel="stylesheet" href="register.css" />
</head>

<body>
    <section class="header">
        <nav>
            <a href="index.html"><img src="./images/logo.png" alt="" /></a>
        </nav>
    

       <div class="hero">
        <div class="form-box">
            <div class="button-box">
                <div id="btn"></div>
                <button type="button" class="toggle-btn" onclick="register()">Register</button>
            </div>

            <div class="social-icons">
                <img src="./images/fb.png">
                <img src="./images/tw.png">
                <img src="./images/gp.png">
            </div>

            <div class="message" id="message"></div>

            <form id="register-form" class="input-group">
                <input type="text" id="userId" class="input-field" placeholder="User Id" required>
                <input type="email" id="email" class="input-field" placeholder="Email Id" required>
                <input type="password" id="password" class="input-field" placeholder="Enter Password" required>
                <input type="checkbox" id="check-box" class="check-box" required><span>I agree to the terms & conditions</span>
                <button type="submit" class="submit-btn">Register</button>
            </form>
        </div>
       </div>

       <script>
         var x=document.getElementById("login")
          var y=document.getElementById("register")
         var z=document.getElementById("btn")
       </script>

       <!-- ... (rest of your HTML code remains unchanged) -->

       <script>
        document.addEventListener("DOMContentLoaded", () => {
       // Reference the form and message element
       const form = document.getElementById("register-form");
       const message = document.getElementById("message");
   
       // Event listener for form submission
       form.addEventListener("submit", async (event) => {
           event.preventDefault();
   
           // Get form data
           const userId = document.getElementById("userId").value;
           const email = document.getElementById("email").value;
           const password = document.getElementById("password").value;
   
           console.log('Form data:', { userId, email, password });  // Log form data
   
           // Send form data to the server
           try {
               const response = await fetch('/register', {
                   method: 'POST',
                   headers: {
                       'Content-Type': 'application/json',
                   },
                   body: JSON.stringify({ userId, email, password }),
               });
   
               const data = await response.text();
   
               if (response.ok) {
                   // Display registration message
                   message.textContent = data;
   
                   // Redirect to login page after 2 seconds
                   setTimeout(() => {
                       window.location.href = '/login';
                   }, 2000);
               } else {
                   // Handle error
                   message.textContent = data;
               }
   
           } catch (error) {
               console.error('Error:', error);
               message.textContent = 'Error registering user';
           }
         });
          });
        </script>
   
          <!-- ... (rest of your HTML code remains unchanged) -->
   
    </section> 
</body>

</html>
